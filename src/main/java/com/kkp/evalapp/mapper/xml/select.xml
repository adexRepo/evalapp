<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE mapper PUBLIC '-//mybatis.org//DTD Mapper 3.0//EN'
  'http://mybatis.org/dtd/mybatis-3-mapper.dtd'>
<mapper namespace="com.kkp.evalapp.mapper.EvalappMapper">
    
    <select id="selectUserById" resultType="com.kkp.evalapp.model.User" parameterType="String">
        select
            id             as id
            , created_at   as createdAt     
            , updated_at   as updatedAt     
            , nama         as nama  
            , div_id       as divId
            , dept_id      as deptId
            , position_id  as positionId
            , level_id     as levelId
            , email        as email    
            , tel_no       as telNo
            , password     as password
        from
            users
        where 
            id = #{id}
    </select>
    <select id="selectPositionList" resultType="com.kkp.evalapp.model.Simple">
        select * from positions ;
    </select>
    <select id="selectDepartementList" resultType="com.kkp.evalapp.model.Simple">
        select * from departements ;  
    </select>
    <select id="selectLevelList" resultType="com.kkp.evalapp.model.Simple">
        select * from levels ;
    </select>
    <select id="selectDivisionList" resultType="com.kkp.evalapp.model.Simple">
        select * from divisions ; 
    </select>
    <select id="selectAllMenu" resultType="com.kkp.evalapp.model.MenuItem">
        select
            id as id
            , parent as parent 
            , name as name 
            , image as image
            , grid_id as gridId
        from
            menuitem m
        order by id 
    </select>
    <select id="selectColumnItemsByGridId" parameterType="Integer" resultType="com.kkp.evalapp.model.ColumnItem">
        select 
            id             as id
            , type_grid    as typeGrid
            , column_no    as columnNo 
            , column_name  as columnName
            , cell_factory as cellFactory
            , column_size  as columnSize
         from grid_column where type_grid = #{gridId} order by column_no asc
    </select>
    <select id="selectAllCompetency" resultType="com.kkp.evalapp.model.Competency">
        select
            id            as compMapId
            , num         as no
            , category    as category
            , description as dtlCategory
            , indicator_1 as indicator1
            , indicator_2 as indicator2
            , indicator_3 as indicator3
            , indicator_4 as indicator4
            , indicator_5 as indicator5
        from
            competency_map
        order by num asc
    </select>
    
    <select id="selectAllCompetencyScale" resultType="com.kkp.evalapp.model.CompetencyScale">
        select * from competency_scale order by score
    </select>

</mapper>